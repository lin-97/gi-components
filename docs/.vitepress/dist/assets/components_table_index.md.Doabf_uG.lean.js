import{E as B,b as _}from"./chunks/theme.DSp_rY0I.js";import{y as x,r as m,f as P,l as v,o as T,al as y,ar as z,I as A,A as D,J as p,K as M,R as l,O as d,ab as I,z as S,B as E,b1 as V}from"./chunks/framework.DPdj00Gt.js";const $=()=>{const F=["张","李","王","赵","钱","孙","周","吴","郑","冯","陈","廖","杨"],g=[{name:"北京",districts:["东城区","西城区","朝阳区"]},{name:"上海",districts:["浦东新区","黄浦区","静安区"]},{name:"广州",districts:["天河区","越秀区","海珠区"]},{name:"深圳",districts:["南山区","福田区","罗湖区"]},{name:"杭州",districts:["西湖区","余杭区","滨江区"]},{name:"成都",districts:["锦江区","武侯区","高新区"]},{name:"武汉",districts:["武昌区","江汉区","洪山区"]},{name:"厦门",districts:["思明区","湖里区","集美区"]},{name:"南京",districts:["玄武区","秦淮区","建邺区"]},{name:"天津",districts:["和平区","河西区","南开区"]},{name:"重庆",districts:["渝中区","江北区","南岸区"]},{name:"沈阳",districts:["和平区","沈河区","皇姑区"]},{name:"济南",districts:["历下区","市中区","槐荫区"]},{name:"青岛",districts:["城阳区","市南区","崂山区"]},{name:"昆明",districts:["五华区","盘龙区","西山区"]}],a=[];for(let h=0;h<100;h++){const k=`${F[Math.floor(Math.random()*F.length)]}${h+1}`,t=18+Math.floor(Math.random()*60),n=Math.random()>.5?"男":"女",r=g[Math.floor(Math.random()*g.length)],s=r.districts[Math.floor(Math.random()*r.districts.length)];a.push({name:k,age:t,sex:n,address:r.name,city:r.name,district:s,remark:`这是${k}的备注信息，他的年龄是${t}岁，性别是${n}`})}return a},N=F=>{const{currentPage:g,pageSize:a,keyword:h,sex:k}=F;return new Promise(t=>{setTimeout(()=>{let n=$();if(h){const e=h.toLowerCase();n=n.filter(o=>o.name.toLowerCase().includes(e)||o.address.toLowerCase().includes(e)||o.city.toLowerCase().includes(e))}k&&(n=n.filter(e=>e.sex===k));const r=n.length,s=(g-1)*a,i=s+a,c=n.slice(s,i);t({data:c,total:r})},300)})},K=x({__name:"Demo",setup(F){const g=[{type:"selection",width:55,align:"center",fixed:"left"},{type:"index",label:"序号",width:60,align:"center"},{prop:"name",label:"姓名",width:100,align:"center",showOverflowTooltip:!0},{prop:"age",label:"年龄",width:60,align:"center"},{prop:"sex",label:"性别",width:60,align:"center",render:({row:s})=>I(_,{type:s.sex==="男"?"primary":"danger"},{default:()=>s.sex})},{prop:"address",label:"地址",children:[{prop:"city",label:"城市",width:100},{prop:"district",label:"区县",width:100}]},{prop:"remark",label:"描述",width:150,showOverflowTooltip:!0},{prop:"action",label:"操作",width:140,align:"center",slotName:"action",fixed:"right"}],a=m([]),h=m(!1),k=m(""),t=P({pageSize:10,currentPage:1,total:0,onSizeChange:s=>{t.pageSize=s,n()},onCurrentChange:s=>{t.currentPage=s,n()}});async function n(){h.value=!0;try{const s={currentPage:t.currentPage,pageSize:t.pageSize,keyword:k.value.trim()},i=await N(s);a.value=i.data,t.total=i.total,B.success(`成功加载 ${i.data.length} 条数据`)}catch(s){B.error("数据加载失败"),console.error("Failed to load data:",s)}finally{h.value=!1}}function r(s){console.log("Edit row:",s.row),B.success(`编辑 ${s.row.name}`)}return v(k,(s,i)=>{s!==i&&(t.currentPage=1,setTimeout(()=>{n()},300))}),T(()=>{n()}),(s,i)=>{const c=y("gi-button"),e=y("el-space"),o=y("el-input"),u=y("el-button"),b=y("el-row"),f=y("gi-table"),w=y("gi-page-layout"),q=z("loading");return D(),A(w,{bordered:""},{tool:p(()=>[l(b,{justify:"space-between",style:{width:"100%"}},{default:p(()=>[l(e,{warp:""},{default:p(()=>[l(c,{type:"add"}),l(c,{type:"delete"})]),_:1}),l(e,{warp:""},{default:p(()=>[l(o,{modelValue:k.value,"onUpdate:modelValue":i[0]||(i[0]=C=>k.value=C),placeholder:"搜索姓名或地址",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),l(u,{type:"primary",onClick:i[1]||(i[1]=C=>n())},{default:p(()=>[...i[2]||(i[2]=[d("搜索",-1)])]),_:1})]),_:1})]),_:1})]),default:p(()=>[M((D(),A(f,{columns:g,data:a.value,pagination:t,border:"","max-height":"400px"},{action:p(C=>[l(e,null,{default:p(()=>[l(u,{type:"primary",size:"small",onClick:j=>r(C)},{default:p(()=>[...i[3]||(i[3]=[d("编辑",-1)])]),_:1},8,["onClick"]),l(u,{type:"danger",size:"small"},{default:p(()=>[...i[4]||(i[4]=[d("删除",-1)])]),_:1})]),_:2},1024)]),_:1},8,["data","pagination"])),[[q,h.value]])]),_:1})}}}),O={class:"vp-raw"},U=JSON.parse('{"title":"Table 表格","description":"","frontmatter":{},"headers":[],"relativePath":"components/table/index.md","filePath":"components/table/index.md"}'),L={name:"components/table/index.md"},G=Object.assign(L,{setup(F){return(g,a)=>(D(),S("div",null,[a[0]||(a[0]=E("h1",{id:"table-表格",tabindex:"-1"},[d("Table 表格 "),E("a",{class:"header-anchor",href:"#table-表格","aria-label":'Permalink to "Table 表格"'},"​")],-1)),a[1]||(a[1]=E("p",null,[E("code",null,"gi-table"),d(" 组件是基于 Element Plus 的 "),E("code",null,"el-table"),d(" 和 "),E("code",null,"el-pagination"),d(" 组件封装的高级表格组件，提供了更便捷的配置方式和增强的功能，包括动态列配置、自定义渲染、嵌套列支持、分页集成等。")],-1)),a[2]||(a[2]=E("h2",{id:"基础用法",tabindex:"-1"},[d("基础用法 "),E("a",{class:"header-anchor",href:"#基础用法","aria-label":'Permalink to "基础用法"'},"​")],-1)),E("div",O,[l(K)]),a[3]||(a[3]=V("",13))]))}});export{U as __pageData,G as default};

import{E as B}from"./chunks/theme.B6P68F-D.js";import{y as _,r as u,f as v,l as q,o as x,al as y,ar as T,I as D,A as m,J as e,R as E,K as P,O as o,z,B as F,b1 as M}from"./chunks/framework.DPdj00Gt.js";const S=()=>{const d=["张","李","王","赵","钱","孙","周","吴","郑","冯","陈","廖","杨"],r=[{name:"北京",districts:["东城区","西城区","朝阳区"]},{name:"上海",districts:["浦东新区","黄浦区","静安区"]},{name:"广州",districts:["天河区","越秀区","海珠区"]},{name:"深圳",districts:["南山区","福田区","罗湖区"]},{name:"杭州",districts:["西湖区","余杭区","滨江区"]},{name:"成都",districts:["锦江区","武侯区","高新区"]},{name:"武汉",districts:["武昌区","江汉区","洪山区"]},{name:"厦门",districts:["思明区","湖里区","集美区"]},{name:"南京",districts:["玄武区","秦淮区","建邺区"]},{name:"天津",districts:["和平区","河西区","南开区"]},{name:"重庆",districts:["渝中区","江北区","南岸区"]},{name:"沈阳",districts:["和平区","沈河区","皇姑区"]},{name:"济南",districts:["历下区","市中区","槐荫区"]},{name:"青岛",districts:["城阳区","市南区","崂山区"]},{name:"昆明",districts:["五华区","盘龙区","西山区"]}],a=[];for(let l=0;l<100;l++){const t=`${d[Math.floor(Math.random()*d.length)]}${l+1}`,h=18+Math.floor(Math.random()*60),n=Math.random()>.5?"男":"女",p=r[Math.floor(Math.random()*r.length)],s=p.districts[Math.floor(Math.random()*p.districts.length)];a.push({name:t,age:h,sex:n,address:p.name,city:p.name,district:s,remark:`这是${t}的备注信息，他的年龄是${h}岁，性别是${n}`})}return a},V=d=>{const{currentPage:r,pageSize:a,keyword:l,sex:t}=d;return new Promise(h=>{setTimeout(()=>{let n=S();if(l){const k=l.toLowerCase();n=n.filter(g=>g.name.toLowerCase().includes(k)||g.address.toLowerCase().includes(k)||g.city.toLowerCase().includes(k))}t&&(n=n.filter(k=>k.sex===t));const p=n.length,s=(r-1)*a,i=s+a,C=n.slice(s,i);h({data:C,total:p})},300)})},$=_({__name:"Demo",setup(d){const r=[{type:"selection",width:55,align:"center",fixed:"left"},{type:"index",label:"序号",width:60,align:"center"},{prop:"name",label:"姓名",width:100,align:"center",showOverflowTooltip:!0},{prop:"age",label:"年龄",width:60,align:"center"},{prop:"sex",label:"性别",width:60,align:"center"},{prop:"address",label:"地址",children:[{prop:"city",label:"城市",width:150},{prop:"district",label:"区县",width:150}]},{prop:"remark",label:"描述",width:150,showOverflowTooltip:!0},{prop:"action",label:"操作",width:150,align:"center",slotName:"action",fixed:"right"}],a=u([]),l=u(!1),t=u(""),h=v({pageSize:10,currentPage:1,total:0,onSizeChange:s=>{h.pageSize=s,n()},onCurrentChange:s=>{h.currentPage=s,n()}});async function n(){l.value=!0;try{const s={currentPage:h.currentPage,pageSize:h.pageSize,keyword:t.value.trim()},i=await V(s);a.value=i.data,h.total=i.total,B.success(`成功加载 ${i.data.length} 条数据`)}catch(s){B.error("数据加载失败"),console.error("Failed to load data:",s)}finally{l.value=!1}}function p(s){console.log("Edit row:",s.row),B.success(`编辑 ${s.row.name}`)}return q(t,(s,i)=>{s!==i&&(h.currentPage=1,setTimeout(()=>{n()},300))}),x(()=>{n()}),(s,i)=>{const C=y("el-input"),k=y("el-button"),g=y("el-space"),A=y("el-row"),f=y("gi-table"),b=y("gi-card"),w=T("loading");return m(),D(b,{title:"基础表格",bordered:""},{default:e(()=>[E(A,{justify:"end"},{default:e(()=>[E(g,null,{default:e(()=>[E(C,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=c=>t.value=c),placeholder:"搜索姓名或地址",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),E(k,{type:"primary",onClick:i[1]||(i[1]=c=>n())},{default:e(()=>[...i[2]||(i[2]=[o("搜索",-1)])]),_:1})]),_:1})]),_:1}),P((m(),D(f,{class:"gi-mt",columns:r,data:a.value,pagination:h,border:"","max-height":"400px"},{action:e(c=>[E(g,null,{default:e(()=>[E(k,{type:"primary",size:"small",onClick:K=>p(c)},{default:e(()=>[...i[3]||(i[3]=[o("编辑",-1)])]),_:1},8,["onClick"]),E(k,{type:"danger",size:"small"},{default:e(()=>[...i[4]||(i[4]=[o("删除",-1)])]),_:1})]),_:2},1024)]),_:1},8,["data","pagination"])),[[w,l.value]])]),_:1})}}}),I={class:"vp-raw"},j=JSON.parse('{"title":"Table 表格","description":"","frontmatter":{},"headers":[],"relativePath":"components/table/index.md","filePath":"components/table/index.md"}'),N={name:"components/table/index.md"},J=Object.assign(N,{setup(d){return(r,a)=>(m(),z("div",null,[a[0]||(a[0]=F("h1",{id:"table-表格",tabindex:"-1"},[o("Table 表格 "),F("a",{class:"header-anchor",href:"#table-表格","aria-label":'Permalink to "Table 表格"'},"​")],-1)),a[1]||(a[1]=F("h2",{id:"基础用法",tabindex:"-1"},[o("基础用法 "),F("a",{class:"header-anchor",href:"#基础用法","aria-label":'Permalink to "基础用法"'},"​")],-1)),F("div",I,[E($)]),a[2]||(a[2]=M("",1))]))}});export{j as __pageData,J as default};
